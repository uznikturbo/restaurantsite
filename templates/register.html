{% extends "base.html" %}
{% block title %}Реєстрація — 桜 Sakura{% endblock %}

{% block extra_css %}
<style>
.auth-wrap {
    min-height: calc(100vh - 64px);
    display: grid;
    grid-template-columns: 1fr 1fr;
    margin: -2.5rem -2rem;
}
.auth-visual {
    position: relative;
    background: url('https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=1200') center/cover;
    min-height: 500px;
}
.auth-visual::after {
    content: '';
    position: absolute; inset: 0;
    background: linear-gradient(135deg, rgba(26,18,8,.75), rgba(192,57,43,.45));
}
.auth-visual__text {
    position: relative; z-index: 2;
    padding: 4rem; color: #fff;
    height: 100%; display: flex; flex-direction: column; justify-content: flex-end;
}
.auth-visual__kana { font-family: 'Noto Serif JP', serif; font-weight: 200; font-size: 5rem; color: rgba(255,255,255,.15); line-height: 1; margin-bottom: 1.5rem; }
.auth-visual__title { font-family: 'Cormorant Garamond', serif; font-size: 2.4rem; font-weight: 300; margin-bottom: .75rem; }
.auth-visual__sub { font-size: .9rem; color: rgba(255,255,255,.65); }
.auth-form-side { background: var(--paper); display: flex; align-items: center; justify-content: center; padding: 3rem 3.5rem; }
.auth-form-box { width: 100%; max-width: 380px; }
.auth-form-box__eyebrow { font-size: .7rem; letter-spacing: .2em; text-transform: uppercase; color: var(--gold); margin-bottom: .5rem; }
.auth-form-box__title { font-family: 'Cormorant Garamond', serif; font-size: 2.4rem; font-weight: 300; margin-bottom: .5rem; }
.auth-form-box__sub { font-size: .9rem; color: rgba(26,18,8,.5); margin-bottom: 2.5rem; }
.auth-form { display: flex; flex-direction: column; gap: 1.25rem; }
.auth-form .btn { width: 100%; justify-content: center; padding: .85rem; }
.auth-form__footer { margin-top: 1.5rem; text-align: center; font-size: .82rem; color: rgba(26,18,8,.5); }
.auth-form__footer a { color: var(--red); text-decoration: none; font-weight: 500; }
.auth-form__footer a:hover { text-decoration: underline; }
@media (max-width: 780px) { .auth-wrap { grid-template-columns: 1fr; margin: -1.5rem -1rem; } .auth-visual { display: none; } .auth-form-side { padding: 2.5rem 1.5rem; } }
</style>
{% endblock %}

{% block content %}
<div class="auth-wrap">
    <div class="auth-visual">
        <div class="auth-visual__text">
            <div class="auth-visual__kana">ようこそ</div>
            <div class="auth-visual__title">Приєднуйтесь<br>до Сакури</div>
            <p class="auth-visual__sub">Реєстрація займе менше хвилини</p>
        </div>
    </div>
    <div class="auth-form-side">
        <div class="auth-form-box">
            <div class="auth-form-box__eyebrow">Новий акаунт</div>
            <div class="auth-form-box__title">Реєстрація</div>
            <p class="auth-form-box__sub">Заповніть форму нижче</p>

            <form action="{{ url_for('main.register') }}" method="POST" class="auth-form">
                {{ form.hidden_tag() }}

                <div class="field">
                    {{ form.email.label }}
                    {{ form.email(placeholder="your@email.com", autocomplete="email") }}
                    {% for err in form.email.errors %}
                        <span class="error">{{ err }}</span>
                    {% endfor %}
                </div>

                <div class="field">
                    {{ form.password.label }}
                    {{ form.password(placeholder="Мінімум 6 символів", autocomplete="new-password") }}
                    {% for err in form.password.errors %}
                        <span class="error">{{ err }}</span>
                    {% endfor %}
                </div>

                <button type="submit" class="btn btn--primary">Створити акаунт</button>
            </form>

            <div class="auth-form__footer">
                Вже маєте акаунт? <a href="{{ url_for('main.login') }}">Увійти</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
